{% extends 'base.html.twig' %}
{% block title %}Spotify{% endblock %}
{% block body %}
    <div id="main-container" class="container-dashboard-spotify container">
        {% if app.user.credentials.spotifyToken != null %}
            <div class="col-xs-2">
                <div class="logo-sidebar">
                    <img src="{{ asset('img/logo/spotify.png') }}" alt="">
                </div>
                <div class="container-followers container">
                    <div class="title">
                        {{ "dashboard.spotify.followers.titleFollow"|trans }}
                    </div>
                    <ul>
                        {{ render(controller('AppBundle:Spotify:getMyFollowed')) }}
                    </ul>
                </div>
            </div>
            <div class="col-xs-8">
                <div class="col-xs-12">
                    <div class="horizontal-part col-xs-6">
                        <div class="title">
                            {{ "dashboard.spotify.infos.title.lastSongs"|trans }}
                        </div>
                        <div>
                            {{ render(controller('AppBundle:Spotify:getMyTopTracks')) }}
                        </div>
                    </div>
                    <div class="horizontal-part col-xs-6">
                        <div class="title">
                            {{ "dashboard.spotify.followers.titleRecommendations"|trans }}
                        </div>
                        <div>
                            {{ render(controller('AppBundle:Spotify:getRecommendations')) }}
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 horizontal-part">
                    <div class="title">
                        {{ "dashboard.spotify.infos.title.artists"|trans }}
                    </div>
                    <div>
                        {{ render(controller('AppBundle:Spotify:getMyTopArtists')) }}
                    </div>
                </div>
                <div class="col-xs-12 horizontal-part">
                    <div class="title">
                        {{ "dashboard.spotify.infos.title.albums"|trans }}
                    </div>
                    <div>
                        {{ render(controller('AppBundle:Spotify:getMySavedAlbums')) }}
                    </div>
                </div>
            </div>
            <div class="col-xs-2 container-playlists">
                <div class="title">
                    {{ "dashboard.spotify.playlists.title"|trans }}
                </div>
                 <span class="custom-dropdown custom-dropdown--white">
                    <select class="type-list-start custom-dropdown__select custom-dropdown__select--white">
                        {{ render(controller('AppBundle:Spotify:getPlaylists')) }}
                    </select>
                </span>
                <ul class="tracks">
                    <li>
                    </li>
                </ul>
            </div>
        {% else %}
            <div class="no-connect-message">
                Vous n'êtes pas connecté à Spotify
                <br/>
                <a href="{{ path('account') }}" class="button">
                    Se connecter
                </a>
            </div>
        {% endif %}
    </div>
{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/dashboard.css') }}" />
    <link rel="stylesheet" href="{{ asset('css/dashboard/spotifya.css') }}" />
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('js/global/container_tabs.js') }}"></script>
{% endblock %}